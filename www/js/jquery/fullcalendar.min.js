/*
 * FullCalendar v1.3
 * http://arshaw.com/fullcalendar/
 *
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, required jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 *
 * Copyright (c) 2009 Adam Shaw
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Date: 2009-09-14 20:40:05 -0700 (Mon, 14 Sep 2009)
 * Revision: 37
 */
(function(x){var C=x.fullCalendar={};var c=C.views={};var z={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},startParam:"start",endParam:"end",cacheParam:"_",timeFormat:"h(:mm)t",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"}};var a={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;"}};var D=C.setDefaults=function(M){x.extend(true,z,M)};x.fn.fullCalendar=function(P){if(typeof P=="string"){var O=Array.prototype.slice.call(arguments,1),Q;this.each(function(){var R=x.data(this,"fullCalendar")[P].apply(this,O);if(Q==j){Q=R}});if(Q!=j){return Q}return this}var N=P.eventSources||[];delete P.eventSources;if(P.events){N.push(P.events);delete P.event}N.unshift([]);P=x.extend(true,{},z,(P.isRTL||P.isRTL==j&&z.isRTL)?a:{},P);var M=P.theme?"ui":"fc";this.each(function(){var af=this,T=x(this).addClass("fc"),ak=x("<div class='fc-content "+M+"-widget-content'/>").appendTo(this);if(P.isRTL){T.addClass("fc-rtl")}if(P.theme){T.addClass("ui-widget")}var aq=new Date(),ai,ad,ab,Z={};if(P.year!=j){aq.setYear(P.year)}if(P.month!=j){aq.setMonth(P.month)}if(P.date!=j){aq.setDate(P.date)}function X(au){if(au!=ai){ab=ad;if(Z[au]){(ad=Z[au]).element.show()}else{ad=Z[au]=x.fullCalendar.views[au](x("<div class='fc-view fc-view-"+au+"'/>").appendTo(ak),P)}if(ab&&ab.eventsChanged){aj(ab);ab.eventsChanged=false}if(al){al.find("div.fc-button-"+ai).removeClass(M+"-state-active");al.find("div.fc-button-"+au).addClass(M+"-state-active")}ad.name=ai=au;at();if(ab){ab.element.hide()}}}function at(av){if(av||!ad.date||+ad.date!=+aq){ae=true;ad.render(aq,av||0,function(aw){if(!U||ad.visStart<U||ad.visEnd>am){ac(aw)}else{aw(S)}});ae=false;ad.date=G(aq);if(al){var au=new Date();if(au>=ad.start&&au<ad.end){al.find("div.fc-button-today").addClass(M+"-state-disabled")}else{al.find("div.fc-button-today").removeClass(M+"-state-disabled")}}}else{if(ad.sizeDirty){ad.updateSize();ad.rerenderEvents()}else{if(ad.eventsDirty){ad.clearEvents();ad.renderEvents(S)}}}if(al){al.find("h2.fc-header-title").html(ad.title)}ad.sizeDirty=false;ad.eventsDirty=false;ad.trigger("viewDisplay",af)}function aj(au){x.each(Z,function(){if(this!=au){this.eventsDirty=true}})}function ah(au){x.each(Z,function(){if(this!=au){this.sizeDirty=true}})}function V(){ad.clearEvents();ad.renderEvents(S);aj(ad)}var S=[],U,am;function ac(ax){S=[];U=G(ad.visStart);am=G(ad.visEnd);var aw=N.length,au=function(){if(--aw==0){if(ax){ax(S)}}},av=0;for(;av<N.length;av++){W(N[av],au)}}function W(az,aA){var av=ad.name,ay=G(aq),ax=function(aB){if(av==ad.name&&+ay==+aq){for(var aC=0;aC<aB.length;aC++){w(aB[aC]);aB[aC].source=az}S=S.concat(aB);if(aA){aA(aB)}}},au=function(aB){ax(aB);ar()};if(typeof az=="string"){var aw={};aw[P.startParam]=Math.round(U.getTime()/1000);aw[P.endParam]=Math.round(am.getTime()/1000);aw[P.cacheParam]=(new Date()).getTime();Y();x.getJSON(az,aw,au)}else{if(x.isFunction(az)){Y();az(G(U),G(am),au)}else{ax(az)}}}var an=0;function Y(){if(!an++){ad.trigger("loading",af,true)}}function ar(){if(!--an){ad.trigger("loading",af,false)}}var ap={prev:function(){at(-1)},next:function(){at(1)},today:function(){aq=new Date();at()},gotoDate:function(au,aw,av){if(au!=j){aq.setYear(au)}if(aw!=j){aq.setMonth(aw)}if(av!=j){aq.setDate(av)}at()},incrementDate:function(av,au,aw){if(av!=j){L(aq,av)}if(au!=j){l(aq,au)}if(aw!=j){u(aq,aw)}at()},updateEvent:function(ay){var aw,au=S.length,az,ax=ay.start-ay._start,av=ay.end?(ay.end-(ay._end||ad.defaultEventEnd(ay))):0;for(aw=0;aw<au;aw++){az=S[aw];if(az._id==ay._id&&az!=ay){az.start=new Date(+az.start+ax);if(ay.end){if(az.end){az.end=new Date(+az.end+av)}else{az.end=new Date(+ad.defaultEventEnd(az)+av)}}else{az.end=null}az.title=ay.title;az.url=ay.url;az.allDay=ay.allDay;az.className=ay.className;az.editable=ay.editable;w(az)}}w(ay);V()},renderEvent:function(av,au){w(av);if(!av.source){if(au){(av.source=N[0]).push(av)}S.push(av)}V()},removeEvents:function(av){if(!av){S=[];for(var au=0;au<N.length;au++){if(typeof N[au]=="object"){N[au]=[]}}}else{if(!x.isFunction(av)){var aw=av+"";av=function(ax){return ax._id==aw}}S=x.grep(S,av,true);for(var au=0;au<N.length;au++){if(typeof N[au]=="object"){N[au]=x.grep(N[au],av,true)}}}V()},clientEvents:function(au){if(x.isFunction(au)){return x.grep(S,au)}else{if(au){au+="";return x.grep(S,function(av){return av._id==au})}}return S},rerenderEvents:function(){ad.rerenderEvents()},addEventSource:function(au){N.push(au);W(au,function(){V()})},removeEventSource:function(au){N=x.grep(N,function(av){return av!=au});S=x.grep(S,function(av){return av.source!=au});V()},refetchEvents:function(){ac(V)}};x.data(this,"fullCalendar",ap);var al,ag=P.header;if(ag){al=x("<table class='fc-header'/>").append(x("<tr/>").append(x("<td class='fc-header-left'/>").append(aa(ag.left))).append(x("<td class='fc-header-center'/>").append(aa(ag.center))).append(x("<td class='fc-header-right'/>").append(aa(ag.right)))).prependTo(T)}function aa(au){if(au){var av=x("<tr/>");x.each(au.split(" "),function(ax){if(ax>0){av.append("<td><span class='fc-header-space'/></td>")}var aw;x.each(this.split(","),function(aA){var az=this,aD=this.replace(/^(basic|agenda)/,"").toLowerCase();if(az=="title"){av.append("<td><h2 class='fc-header-title'/></td>");if(aw){aw.addClass(M+"-corner-right")}aw=null}else{var ay;if(ap[aD]){ay=ap[aD]}else{if(c[az]){ay=function(){X(az)}}}if(ay){if(aw){aw.addClass(M+"-no-right")}var aB,aC=P.theme?P.buttonIcons[aD]:null,aE=P.buttonText[aD];if(aC){aB=x("<div class='fc-button-"+az+" ui-state-default'><a><span class='ui-icon ui-icon-"+aC+"'/></a></div>")}else{if(aE){aB=x("<div class='fc-button-"+az+" "+M+"-state-default'><a><span>"+aE+"</span></a></div>")}}if(aB){aB.mousedown(function(){aB.addClass(M+"-state-down")}).mouseup(function(){aB.removeClass(M+"-state-down")}).hover(function(){aB.addClass(M+"-state-hover")},function(){aB.removeClass(M+"-state-hover").removeClass(M+"-state-down")}).appendTo(x("<td/>").appendTo(av));if(ap[aD]){aB.click(ap[aD])}else{if(c[az]){aB.click(function(){X(az)})}}if(aw){aw.addClass(M+"-no-right")}else{aB.addClass(M+"-corner-left")}aw=aB}}}});if(aw){aw.addClass(M+"-corner-right")}});return x("<table/>").append(av)}}var ao,ae=false,R=0;x(window).resize(function(){if(!ae){var au=++R;setTimeout(function(){if(au==R){var av=T.width();if(av!=ao){ao=av;ad.updateSize();ad.rerenderEvents(true);ah(ad);ad.trigger("windowResize",af)}}},200)}});X(P.defaultView);ao=T.width()});return this};var F=0;function w(M){M._id=M._id||(M.id==j?"_fc"+F++:M.id+"");if(M.date){if(!M.start){M.start=M.date}delete M.date}M._start=G(M.start=d(M.start));M.end=d(M.end);if(M.end&&M.end<M.start){M.end=null}M._end=M.end?G(M.end):null;if(M.allDay==j){M.allDay=true}}D({weekMode:"fixed"});c.month=function(N,M){return new y(N,M,{render:function(O,S,P){if(S){l(O,S)}var R=this.start=G(O,true);R.setDate(1);this.title=p(R,u(G(this.end=l(G(R),1)),-1),f(M.titleFormat,"month"),M);u(this.visStart=G(R),-((R.getDay()-M.firstDay+7)%7));u(this.visEnd=G(this.end),(7-this.visEnd.getDay()+M.firstDay)%7);var Q=Math.round((this.visEnd-this.visStart)/(I*7));if(M.weekMode=="fixed"){u(this.visEnd,(6-Q)*7);Q=6}this.renderGrid(Q,7,f(M.columnFormat,"month"),true,P)}})};c.basicWeek=function(N,M){return new y(N,M,{render:function(O,Q,P){if(Q){u(O,Q*7)}this.title=p(this.start=this.visStart=u(G(O),-((O.getDay()-M.firstDay+7)%7)),u(G(this.end=this.visEnd=u(G(this.start),7)),-1),f(M.titleFormat,"week"),M);this.renderGrid(1,7,f(M.columnFormat,"week"),false,P)}})};c.basicDay=function(N,M){return new y(N,M,{render:function(O,Q,P){if(Q){u(O,Q)}this.title=E(O,f(M.titleFormat,"day"),M);this.start=this.visStart=G(O,true);this.end=this.visEnd=u(G(this.start),1);this.renderGrid(1,1,f(M.columnFormat,"day"),false,P)}})};var n,q,s,A,m;function y(P,S,aj){var Q,Z,U,ad,ac,V,af,ak,ah,N,W,aa=x.extend(this,i,aj,{renderGrid:ae,renderEvents:R,rerenderEvents:ai,updateSize:ag,defaultEventEnd:function(al){return G(al.start)},visEventEnd:function(am){if(am.end){var al=G(am.end);return(am.allDay||al.getHours()||al.getMinutes())?u(al,1):al}else{return u(G(am.start),1)}}});aa.init(P,S);P.addClass("fc-grid").css("position","relative");if(P.disableSelection){P.disableSelection()}function ae(al,ar,ao,av,au){V=al;af=ar;var ap=aa.start.getMonth(),at=r(new Date()),ay,an,am,aq=G(aa.visStart);Q=S.theme?"ui":"fc";Z=S.firstDay;if(U=S.isRTL){ad=-1;ac=af-1}else{ad=1;ac=0}if(!N){var ax=x("<table/>").appendTo(P);ay="<thead><tr>";for(an=0;an<af;an++){ay+="<th class='fc-"+J[aq.getDay()]+" "+Q+"-state-default"+(an==ac?" fc-leftmost":"")+"'>"+E(aq,ao,S)+"</th>";u(aq,1)}ah=x(ay+"</tr></thead>").appendTo(ax);ay="<tbody>";aq=G(aa.visStart);for(an=0;an<V;an++){ay+="<tr class='fc-week"+an+"'>";for(am=0;am<af;am++){ay+="<td class='fc-"+J[aq.getDay()]+" "+Q+"-state-default fc-day"+(an*af+am)+(am==ac?" fc-leftmost":"")+(V>1&&aq.getMonth()!=ap?" fc-other-month":"")+(+aq==+at?" fc-today "+Q+"-state-highlight":" fc-not-today")+"'>"+(av?"<div class='fc-day-number'>"+aq.getDate()+"</div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";u(aq,1)}ay+="</tr>"}N=x(ay+"</tbody>").appendTo(ax);N.find("td").click(M)}else{aa.clearEvents();var aw=N.find("tr").length;if(V<aw){N.find("tr:gt("+(V-1)+")").remove()}else{if(V>aw){ay="";for(an=aw;an<V;an++){ay+="<tr class='fc-week"+an+"'>";for(am=0;am<af;am++){ay+="<td class='fc-"+J[aq.getDay()]+" "+Q+"-state-default fc-new fc-day"+(an*af+am)+(am==ac?" fc-leftmost":"")+"'>"+(av?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";u(aq,1)}ay+="</tr>"}N.append(ay)}}N.find("td.fc-new").removeClass("fc-new").click(M);aq=G(aa.visStart);N.find("td").each(function(){var az=x(this);if(V>1){if(aq.getMonth()==ap){az.removeClass("fc-other-month")}else{az.addClass("fc-other-month")}}if(+aq==+at){az.removeClass("fc-not-today").addClass("fc-today").addClass(Q+"-state-highlight")}else{az.addClass("fc-not-today").removeClass("fc-today").removeClass(Q+"-state-highlight")}az.find("div.fc-day-number").text(aq.getDate());u(aq,1)});if(V==1){aq=G(aa.visStart);ah.find("th").each(function(){x(this).text(E(aq,ao,S));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+J[aq.getDay()]);u(aq,1)});aq=G(aa.visStart);N.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+J[aq.getDay()]);u(aq,1)})}}ag();au(R)}function M(){var al=u(G(aa.visStart),parseInt(this.className.match(/fc\-day(\d+)/)[1]));aa.trigger("dayClick",this,al)}function ag(){var at=Math.round(P.width()/S.aspectRatio),al=N.find("tr td:first-child"),aq=at-ah.height(),ao,an;if(S.weekMode=="variable"){ao=an=Math.floor(aq/(V==1?2:6))}else{ao=Math.floor(aq/V);an=aq-ao*(V-1)}if(n==j){var ar=N.find("tr:first"),am=ar.find("td:first"),au=ar.position().top,ap=am.position().top;n=ap<0;q=au!=ap;s=N.position().top!=au}if(A==j){am.height(ao);A=ao!=am.height()}if(A){al.slice(0,-1).height(ao);al.slice(-1).height(an)}else{e(al.slice(0,-1),ao);e(al.slice(-1),an)}K(ah.find("th").slice(0,-1),ak=Math.floor(P.width()/af))}function R(al){aa.reportEvents(al);T(W=Y(al))}function ai(al){aa.clearEvents();if(al){T(W)}else{R(aa.cachedEvents)}}function Y(am){var ap=G(aa.visStart);var an=u(G(ap),af);var ao=[];for(var al=0;al<V;al++){ao.push(B(aa.sliceSegs(am,ap,an)));u(ap,7);u(an,7)}return ao}function T(ay){var aD,aF=ay.length,ap,an,ar,aI,aw,aq,aB,ax,aH,aA,aG,aC,av,al,az,au,at,aE,am,ao;for(aD=0;aD<aF;aD++){ap=ay[aD];an=N.find("tr:eq("+aD+")");ar=an.find("td:first");aI=ar.find("div.fc-day-content div").css("position","relative");aw=aI.position().top;if(n){aw-=ar.position().top}if(q){aw+=an.position().top}if(s){aw+=N.position().top}aq=0;for(aB=0;aB<ap.length;aB++){ax=ap[aB];aH=0;for(aA=0;aA<ax.length;aA++){aG=ax[aA];aC=aG.event;av=aC.className;if(typeof av=="object"){av=av.slice(0)}else{if(typeof av=="string"){av=av.split(" ")}else{av=[]}}av.push("fc-event","fc-event-hori");al=aG.isStart?an.find("td:eq("+((aG.start.getDay()-Z+af)%af)+") div.fc-day-content div"):N;az=aG.isEnd?an.find("td:eq("+((aG.end.getDay()-Z+af-1)%af)+") div.fc-day-content div"):N;if(U){au=az.position().left;at=al.position().left+al.width();if(aG.isStart){av.push("fc-corner-right")}if(aG.isEnd){av.push("fc-corner-left")}}else{au=al.position().left;at=az.position().left+az.width();if(aG.isStart){av.push("fc-corner-left")}if(aG.isEnd){av.push("fc-corner-right")}}aE=x("<div class='"+av.join(" ")+"'/>").append(am=x("<a/>").append(aC.allDay||!aG.isStart?null:x("<span class='fc-event-time'/>").html(p(aC.start,aC.end,S.timeFormat,S))).append(x("<span class='fc-event-title'/>").text(aC.title)));if(aC.url){am.attr("href",aC.url)}ao=aa.trigger("eventRender",aC,aC,aE);if(ao!==false){if(ao&&typeof ao!="boolean"){aE=x(ao)}aE.css({position:"absolute",top:aw,left:au+(m||0),zIndex:2}).appendTo(P);K(aE,at-au,true);if(U&&m==j){m=au-aE.position().left;if(m){aE.css("left",au+m)}}O(aC,aE);if(aC.editable||aC.editable==j&&S.editable){ab(aC,aE);if(aG.isEnd){X(aC,aE)}}aa.reportEventElement(aC,aE);aH=Math.max(aH,aE.outerHeight(true))}}aq+=aH;aw+=aH}aI.height(aq)}}function O(am,al){al.click(function(an){if(!al.hasClass("ui-draggable-dragging")){return aa.trigger("eventClick",this,am,an)}}).hover(function(an){aa.trigger("eventMouseover",this,am,an)},function(an){aa.trigger("eventMouseout",this,am,an)})}function ab(an,am){if(!S.disableDragging&&am.draggable){var al;am.draggable({zIndex:3,delay:50,opacity:S.dragOpacity,revertDuration:S.dragRevertDuration,start:function(ap,aq){al=new b(function(ar){am.draggable("option","revert",!ar||!ar.rowDelta&&!ar.colDelta);if(ar){aa.showOverlay(ar)}else{aa.hideOverlay()}});N.find("tr").each(function(){al.row(this,s)});var ao=N.find("tr:first td");if(U){ao=x(ao.get().reverse())}ao.each(function(){al.col(this)});aa.hideEvents(an,am);aa.trigger("eventDragStart",am,an,ap,aq);al.mouse(ap.pageX,ap.pageY)},drag:function(ao){al.mouse(ao.pageX,ao.pageY)},stop:function(aq,ar){aa.hideOverlay();aa.trigger("eventDragStop",am,an,aq,ar);var ao=al.cell;if(!ao||!ao.rowDelta&&!ao.colDelta){aa.showEvents(an,am)}else{var ap=ao.rowDelta*7+ao.colDelta*ad;aa.moveEvent(an,ap);aa.trigger("eventDrop",this,an,ap,0,function(){aa.moveEvent(an,-ap);ai()},aq,ar);am.find("a").removeAttr("href");ai()}}})}}function X(am,al){if(!S.disableResizing&&al.resizable){al.resizable({handles:U?"w":"e",grid:ak,minWidth:ak/2,containment:P,start:function(an,ao){al.css("z-index",3);aa.hideEvents(am,al);aa.trigger("eventResizeStart",this,am,an,ao)},stop:function(ao,ap){aa.trigger("eventResizeStop",this,am,ao,ap);var an=Math.round((al.width()-ap.originalSize.width)/ak);if(an){aa.resizeEvent(am,an);aa.trigger("eventResize",this,am,an,0,function(){aa.resizeEvent(am,-an);ai()},ao,ap);ai()}else{aa.showEvents(am,al)}al.css("z-index",2)}})}}}var i={init:function(N,M){this.element=N;this.options=M;this.cachedEvents=[];this.eventsByID={};this.eventElements=[];this.eventElementsByID={}},trigger:function(M,N){if(this.options[M]){return this.options[M].apply(N||this,Array.prototype.slice.call(arguments,2).concat([this]))}},eventEnd:function(M){return M.end||this.defaultEventEnd(M)},reportEvents:function(P){var O,M=P.length,Q,N=this.eventsByID={},R=this.cachedEvents=[];for(O=0;O<M;O++){Q=P[O];if(N[Q._id]){N[Q._id].push(Q)}else{N[Q._id]=[Q]}R.push(Q)}},reportEventElement:function(N,M){this.eventElements.push(M);var O=this.eventElementsByID;if(O[N._id]){O[N._id].push(M)}else{O[N._id]=[M]}},clearEvents:function(){x.each(this.eventElements,function(){this.remove()});this.eventElements=[];this.eventElementsByID={}},showEvents:function(N,M){this._eee(N,M,"show")},hideEvents:function(N,M){this._eee(N,M,"hide")},_eee:function(P,O,R){var Q=this.eventElementsByID[P._id],N,M=Q.length;for(N=0;N<M;N++){if(Q[N]!=O){Q[N][R]()}}},moveEvent:function(Q,S,P){P=P||0;var O=this.eventsByID[Q._id],N,M=O.length,R;for(N=0;N<M;N++){R=O[N];R.allDay=Q.allDay;k(u(R.start,S,true),P);if(R.end){R.end=k(u(R.end,S,true),P)}w(R)}this.eventsChanged=true},resizeEvent:function(Q,S,P){P=P||0;var O=this.eventsByID[Q._id],N,M=O.length,R;for(N=0;N<M;N++){R=O[N];R.end=k(u(this.eventEnd(R),S,true),P);w(R)}this.eventsChanged=true},showOverlay:function(M){if(!this.dayOverlay){this.dayOverlay=x("<div class='fc-cell-overlay' style='position:absolute;z-index:1;display:none'/>").appendTo(this.element)}var N=this.element.offset();this.dayOverlay.css({top:M.top-N.top,left:M.left-N.left,width:M.width,height:M.height}).show()},hideOverlay:function(){if(this.dayOverlay){this.dayOverlay.hide()}},sliceSegs:function(X,O,R){var P=[],S,U=X.length,N,V,T,W,Y,M,Q;for(S=0;S<U;S++){N=X[S];V=N.start;T=this.visEventEnd(N);if(T>O&&V<R){if(V<O){W=G(O);M=false}else{W=V;M=true}if(T>R){Y=G(R);Q=false}else{Y=T;Q=true}P.push({event:N,start:W,end:Y,isStart:M,isEnd:Q,msLength:Y-W})}}return P.sort(v)}};function B(O){var S=[],R,M=O.length,N,Q,T,P;for(R=0;R<M;R++){N=O[R];Q=0;while(true){T=false;if(S[Q]){for(P=0;P<S[Q].length;P++){if(t(S[Q][P],N)){T=true;break}}}if(T){Q++}else{break}}if(S[Q]){S[Q].push(N)}else{S[Q]=[N]}}return S}function v(N,M){return(M.msLength-N.msLength)*100+(N.event.start-M.event.start)}function t(N,M){return N.end>M.start&&N.start<M.end}var I=86400000;function L(N,O,M){N.setFullYear(N.getFullYear()+O);if(M){return N}return r(N)}function l(N,O,M){N.setMonth(N.getMonth()+O);if(M){return N}return r(N)}function u(N,O,M){N.setDate(N.getDate()+O);if(M){return N}return r(N)}function k(M,N){M.setMinutes(M.getMinutes()+N);return M}function r(M){M.setHours(0);M.setMinutes(0);M.setSeconds(0);M.setMilliseconds(0);return M}function G(M,N){if(N){return r(new Date(+M))}return new Date(+M)}var d=C.parseDate=function(M){if(typeof M=="object"){return M}if(typeof M=="number"){return new Date(M*1000)}if(typeof M=="string"){if(M.match(/^\d+$/)){return new Date(parseInt(M)*1000)}return g(M,true)||Date.parse(M)||null}return null};var g=C.parseISO8601=function(O,M){var Q=O.match(h);if(!Q){return null}var P=0;var N=new Date(Q[1],0,1);if(Q[3]){N.setMonth(Q[3]-1)}if(Q[5]){N.setDate(Q[5])}if(Q[7]){N.setHours(Q[7])}if(Q[8]){N.setMinutes(Q[8])}if(Q[10]){N.setSeconds(Q[10])}if(Q[12]){N.setMilliseconds(Number("0."+Q[12])*1000)}if(!M){if(Q[14]){P=(Number(Q[16])*60)+Number(Q[17]);P*=((Q[15]=="-")?1:-1)}P-=N.getTimezoneOffset()}return new Date(Number(N)+(P*60*1000))};var h=new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?");var E=C.formatDate=function(N,O,M){return p(N,null,O,M)};var p=C.formatDates=function(Y,X,W,Z){Z=Z||z;var N=Y,P=X,Q,R=W.length,T,O,V,S="";for(Q=0;Q<R;Q++){T=W.charAt(Q);if(T=="'"){for(O=Q+1;O<R;O++){if(W.charAt(O)=="'"){if(N){if(O==Q+1){S+="'"}else{S+=W.substring(Q+1,O)}Q=O}break}}}else{if(T=="("){for(O=Q+1;O<R;O++){if(W.charAt(O)==")"){var M=E(N,W.substring(Q+1,O),Z);if(parseInt(M.replace(/\D/,""))){S+=M}Q=O;break}}}else{if(T=="["){for(O=Q+1;O<R;O++){if(W.charAt(O)=="]"){var U=W.substring(Q+1,O);var M=E(N,U,Z);if(M!=E(P,U,Z)){S+=M}Q=O;break}}}else{if(T=="{"){N=X;P=Y}else{if(T=="}"){N=Y;P=X}else{for(O=R;O>Q;O--){if(V=o[W.substring(Q,O)]){if(N){S+=V(N,Z)}Q=O-1;break}}if(O==Q){if(N){S+=T}}}}}}}}return S};var o={s:function(M){return M.getSeconds()},ss:function(M){return H(M.getSeconds())},m:function(M){return M.getMinutes()},mm:function(M){return H(M.getMinutes())},h:function(M){return M.getHours()%12||12},hh:function(M){return H(M.getHours()%12||12)},H:function(M){return M.getHours()},HH:function(M){return H(M.getHours())},d:function(M){return M.getDate()},dd:function(M){return H(M.getDate())},ddd:function(N,M){return M.dayNamesShort[N.getDay()]},dddd:function(N,M){return M.dayNames[N.getDay()]},M:function(M){return M.getMonth()+1},MM:function(M){return H(M.getMonth()+1)},MMM:function(N,M){return M.monthNamesShort[N.getMonth()]},MMMM:function(N,M){return M.monthNames[N.getMonth()]},yy:function(M){return(M.getFullYear()+"").substring(2)},yyyy:function(M){return M.getFullYear()},t:function(M){return M.getHours()<12?"a":"p"},tt:function(M){return M.getHours()<12?"am":"pm"},T:function(M){return M.getHours()<12?"A":"P"},TT:function(M){return M.getHours()<12?"AM":"PM"},u:function(M){return E(M,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(N){var M=N.getDate();if(M>10&&M<20){return"th"}return["st","nd","rd"][M%10-1]||"th"}};function K(N,O,M){N.each(function(){var Q=x(this);var P=O-((parseInt(Q.css("border-left-width"))||0)+(parseInt(Q.css("padding-left"))||0)+(parseInt(Q.css("padding-right"))||0)+(parseInt(Q.css("border-right-width"))||0));if(M){P-=(parseInt(Q.css("margin-left"))||0)+(parseInt(Q.css("margin-right"))||0)}Q.width(P)})}function e(O,M,N){O.each(function(){var Q=x(this);var P=M-((parseInt(Q.css("border-top-width"))||0)+(parseInt(Q.css("padding-top"))||0)+(parseInt(Q.css("padding-bottom"))||0)+(parseInt(Q.css("border-bottom-width"))||0));if(N){P-=(parseInt(Q.css("margin-top"))||0)+(parseInt(Q.css("margin-bottom"))||0)}Q.height(P)})}function b(O){var T=[],M=[],S,R,P,Q,U,N;this.row=function(W,V){S=x(W);T.push(S.offset().top+(V?S.parent().position().top:0))};this.col=function(V){R=x(V);M.push(R.offset().left)};this.mouse=function(V,Y){if(P==j){T.push(T[T.length-1]+S.outerHeight());M.push(M[M.length-1]+R.outerWidth());U=N=-1}var W,X;for(W=0;W<T.length&&Y>=T[W];W++){}for(X=0;X<M.length&&V>=M[X];X++){}W=W>=T.length?-1:W-1;X=X>=M.length?-1:X-1;if(W!=U||X!=N){U=W;N=X;if(W==-1||X==-1){this.cell=null}else{if(P==j){P=W;Q=X}this.cell={row:W,col:X,top:T[W],left:M[X],width:M[X+1]-M[X],height:T[W+1]-T[W],isOrig:W==P&&X==Q,rowDelta:W-P,colDelta:X-Q}}O(this.cell)}}}var j,J=["sun","mon","tue","wed","thu","fri","sat"];function H(M){return(M<10?"0":"")+M}function f(M,N){return typeof M=="string"?M:M[N]}})(jQuery);